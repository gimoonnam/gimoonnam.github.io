---
title: "Image filtering using Matlab"
date: 2020-7-2 18:22:28 -0400
categories: OpenCV
tags:
  -matlab
use_math: true
---


## Goal
  매트랩 함수를 이용한 이미지 필터링을 이해한다. 
  구체적으로 
 
  ---
  1. imfilter 
  2. filter2
  3. conv2 
  ---
  이 세 함수의 사용법을 2차원 행렬을 이용한 예제로 이해한다. 

  correlation(상관) 필터링과 convolution(합성) 필터링의 차이를 이해한다. 

## Theory 

  # 필터링 원리 (용어 설명 포함) 
    원본 행렬 (A) 과 필터링 행렬 (h)
    A의 크기 (Ma, Na) 
    h의 크기 (Mh, Nh)
    where M and N for row and col, respectively.

    B: 결과 행렬 (Mb,Nb) 

    필터링 행렬의 슬라이딩으로 원본 행렬의 값을 바꾼다. 

    - 결과 행렬의 크기는 어떻게 결정되는가? 
    1. Mb = Ma+Mh-1, Nb=Na+Nh-1 for option 'full'
    (그림 삽입) 
    2. Mb = Ma, Nb = Na         for option 'same' (image analysis) 
    (그림 삽입) 


  # 상관과 합성필터링의 차이: 커널 행렬의 회전하여 원본 행렬에 적용 (상관 :무회전, 합성 필터링: 180도 회전)
  
    1. filter2(h,A), correlation filtering  
    2. conv2(A,h), convolution filtering 

    (상관 필터링) imfilter with two shapes: full and same 
    1. imfilter(A,h,'full') = filter2(h,A,'full') 
    2. imfilter(A,h,'same') = filter2(h,A) 

    (합성 필터링) imfilter with two shapes: full and same 
    1. imfilter(A,h,'full','conv') = conv2(A,h,'full') 
    2. imfilter(A,h,'conv') =  conv2(A,h,'same')



