---
title: "Image Feature Enhancement Filter"
date: 2020-7-23 12:32:28 -0400
categories: ImageProcessing
tags:
   - DoG 
   - LoG
   - edge detection 
   - blob detection 
use_math: true
toc: true
toc_sticky: true
last_modified_at: 2020-07-23
---


# Introduction 

In this post, we will look over how to improve edges and other detailedd features on images. There are several methods, most of which uses convolutions with a filter. 


## Difference of Gaussian (DoG)  

$$
G_1(x,y) = \frac{1}{\sqrt{2\pi\sigma_1}}\exp\left(-x^2/2\sigma_{1}^2\right)\\   
G_2(x,y) = \frac{1}{\sqrt{2\pi\sigma_2}}\exp\left(-x^2/2\sigma_{2}^2\right)
\tag{1 
$$

These two Gaussian filter produces two blurred images. Differencce of Gaussians is then made by subtracting more blurred image from less blurred one, 
ensuring that $\sigma_1 < \sigma_2$. 

$$
\mathrm{DoG} = G_1(x,y) - G_2(x,y)
\tag{2}
$$



The resulting curve resembles a Mexican hat as shown below. 

|<img src="/assets/images/DoG.png" width="400px" >|
|:--:| 
|taken from Ref.1|



## Laplace of Gaussian (LoG)



## Unsharp Filter 

The unsharp filter is also used to enhance edges and other details on images. As one of spatial sharpening, the principle is pretty much similar to that of DoG.  
A smoothed image is subtracted from its original one, which produces a high-pass signal's edge image. 

$$
g(x,y) = f(x,y) - f_{\mathrm{smoothed}}(x,y)
\tag{3}
$$

where $f(x,y)$ is an original image and $g(x,y)$ denotes the edge image. 


A better understanding can be made in a signal pattern as shown below. 

|<img src="/assets/images/unsharpFiltering.jpeg" width="400px" >|
|:--:| 
|taken from Ref.3: The bottom panel (c) is obtained by subtracting (b) from (a).|


The resultant sharpened image can then be obtained by adding the edge image to the original one:  

$$
f_{\mathrm{sharp}}(x,y) = f(x,y) + kg(x,y)
\tag{4}
$$

where $k$ is a scaling constant, typically set from the range between 0.2 and 0.7. The sharpness of an image becomes enhanced as $k$ increases.



# References 
  
  1. [Interactive tutorial on Difference of Gaussians Edge Enhancement](https://micro.magnet.fsu.edu/primer/java/digitalimaging/processing/diffgaussians/index.html) 
  2. [Blob detection on wikipedia](https://en.wikipedia.org/wiki/Blob_detection#The_Laplacian_of_Gaussian)  
  3. [Unsharp filter](https://homepages.inf.ed.ac.uk/rbf/HIPR2/unsharp.htm)   
  
  
  
  
  
  
